platform :ios, '9.0'

source 'git@gitlab.skypicker.com:mobile/react-native-native-modules.git'
source 'https://github.com/CocoaPods/Specs.git'

plugin 'cocoapods-fix-react-native'

def patch_pod_file(path, old_code, new_code)
    file = File.join(path)
    unless File.exist?(file)
        Pod::UI.warn "#{file} does not exist so was not patched.."
        return
    end
    code = File.read(file)
    if code.include?(old_code)
        Pod::UI.info "Patching #{file}..."
        FileUtils.chmod('+w', file)
        File.write(file, code.gsub(old_code, new_code))
    end
end

target 'RNHotels_Example' do
    use_frameworks!
    
    pod 'RNHotelsSpec', :path => '../../../..'
end

post_install do |installer|
    # Fix react native status bar
    patch_pod_file('Pods/React/React/Modules/RCTStatusBarManager.m', 'RCTLogError', '// RCTLogError');
end
